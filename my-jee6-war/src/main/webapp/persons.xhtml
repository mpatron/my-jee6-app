<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	template="./WEB-INF/templates/mainTemplate.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<ui:define name="top">
    top
  </ui:define>

	<ui:define name="left">
		<c:view>
			<p><h:link id="sampleageLink" value="sampleage" outcome="/sampleage?faces-redirect=true" /></p>
			<p><h:link id="indexLink" value="index" outcome="/index?faces-redirect=true" /></p>
			<p><h:link id="standardLink" value="standard" outcome="/standard?faces-redirect=true" /></p>
			<p><h:link id="personsLink" value="persons" outcome="/persons?faces-redirect=true" /></p>
		</c:view>
	</ui:define>

	<ui:define name="right">
    right
  	</ui:define>

	<ui:define name="content">
	
		<rich:panel header="Liste de personnne">
		<h1>Liste de personnne</h1>
		<h:form id="persons">
			<h:commandButton action="person.xhtml" value="New" />
			<h:dataTable value="#{personList.listAll}" var="o"
				styleClass="order-table" headerClass="order-table-header"
				rowClasses="order-table-odd-row,order-table-even-row">

				<h:column id="login">
					<!-- column header -->
					<c:facet name="header">logino</c:facet>
					<!-- row record -->
    				#{o.login}
    			</h:column>

				<h:column id="password">
					<c:facet name="header">password</c:facet>
    				#{o.password}
    			</h:column>

				<h:column id="firstName">
					<c:facet name="header">firstName</c:facet>
    				#{o.firstName}
    			</h:column>

				<h:column id="lastName">
					<c:facet name="header">lastName</c:facet>
    				#{o.lastName}
    			</h:column>

				<h:column id="doEdit">
					<c:facet name="header">Edit</c:facet>
					<h:commandButton action="#{personList.doEdit}" value="Edit">
						<c:param name="loginName" value="#{o.login}" />
					</h:commandButton>
				</h:column>

				<h:column id="doDelete">
					<c:facet name="header">Delete</c:facet>
					<h:commandButton action="#{personList.doDelete}" value="X">
						<c:param name="loginName" value="#{o.login}" />
					</h:commandButton>
				</h:column>

			</h:dataTable>
		</h:form>
		</rich:panel>
	</ui:define>

	<ui:define name="bottom">
    bottom
  </ui:define>

</ui:composition>
